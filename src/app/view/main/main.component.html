<!-- <h1>Tableau NG Prime test</h1> -->

<div class="flex justify-content-center mb-3">
    <p-selectButton [(ngModel)]="selectedSize" [multiple]="false" optionLabel="name" optionValue="class"></p-selectButton>
</div>
<!-- <p-table [value]="products" [tableStyle]="{ 'min-width': '50rem' }" [styleClass]="selectedSize.class">
    <ng-template pTemplate="header">
        <tr>
            <th>Code</th>
            <th>Name</th>
            <th>Category</th>
            <th>Quantity</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-product >
        <tr [ngClass]="{'row-accessories': product.category === 'Accessories'}">
            <td>{{product.code}}</td>
            <td>{{product.name}}</td>
            <td>{{product.category}}</td>
            <td>
                <div [ngClass]="{'outofstock': product.quantity === 0, 'lowstock': (product.quantity > 0 && product.quantity < 10),'instock': product.quantity > 10}">
                    {{product.quantity}}
                </div>
            </td>
        </tr>
    </ng-template>
</p-table> -->


<div class="card mx-2">
    <p-dataView #dv [value]="products" [sortField]="sortField" [sortOrder]="sortOrder" [rows]="4" [paginator]="true">
        <ng-template pTemplate="header" class="rouded-xl">
            <div class="flex flex-col md:flex-row md:justify-between mb-2 md:mb-0 gap-2">
                <p-dropdown [options]="sortOptions" [(ngModel)]="sortKey" placeholder="Sort By Price" (onChange)="onSortChange($event)" class="w-full md:w-auto flex items-center justify-center"></p-dropdown>
                <h1 class="flex items-center justify-center text-xl">NGPrime TABLEAU TEST</h1>
            </div>
        </ng-template>
        <ng-template let-products pTemplate="list">
            <div class="grid grid-cols-1 my-4">
                <div class="product-wrapper px-4" 
                *ngFor="let item of products; let first = first"
                >
                <a [routerLink]="['/product', item.id]">
                    <div class="flex flex-col items-center xl:flex-row my-8 gap-4" [ngClass]="{'pt-0': first}">
                        <img class="w-64 h-32 object-contain boxShadow block mx-auto rounded-xl bg-white" [src]="item.image" [alt]="item.title" />
                        <div class="flex flex-col sm:flex-row justify-between items-center xl:items-center flex-1 gap-8 h-full">
                            <div class="text-center sm:text-left flex flex-col gap-2">
                                <div class="text-2xl font-bold text-gray-900">{{ item.title }}</div>
                                <p-rating [(ngModel)]="item.rating.rate" [readonly]="true" [cancel]="false" class=""></p-rating>
                                <div class="flex justify-center sm:justify-start items-center gap-2">
                                    <i class="pi pi-tag text-xl"></i>
                                    <span class="font-semibold">{{ item.category }}</span>
                                </div>
                            </div>
                            <div class="grid grid-cols-1 gap-2 place-items-center text-center sm:text-right mt-4 sm:mt-0">
                                <span class="text-2xl font-semibold">{{item.price + 'â‚¬'}}</span>
                                <button pButton icon="pi pi-shopping-cart" class="p-button-rounded mt-2" [disabled]="item.inventoryStatus === 'OUTOFSTOCK'"></button>
                            </div>
                        </div>
                    </div>
                </a>
                    <hr>
                </div>
            </div>
        </ng-template>
    </p-dataView>
</div>





<div *ngIf="products">

</div>





